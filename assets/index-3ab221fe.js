(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}})();const f=document.getElementById("wheel"),g=document.getElementById("result"),y=document.getElementById("spin-btn"),d=["суставы","поясница","колени","зуб","голова","шея","спина","ВСЁ СРАЗУ"],u=f.getContext("2d");if(!u)throw new Error("Canvas 2d not supported");const c=d.length,a=2*Math.PI/c,l=f.width/2;function P(e,r,i,o,t){e.translate(r,i),e.beginPath(),e.moveTo(0,t/2),e.lineTo(o,0),e.lineTo(o,t),e.fillStyle="black",e.fill(),e.setTransform(1,0,0,1,0,0)}function h(e,r){e.clearRect(0,0,f.width,f.height),e.translate(l,l),e.rotate(r);for(let t=0;t<c;t++){const n=a*t,s=a*(t+1);e.beginPath(),e.moveTo(0,0),e.arc(0,0,l,n,s),e.fillStyle=t%2===0?"#ff747e":"#ffa2a9",e.fill(),e.stroke(),e.save(),e.rotate(n+a/2),e.textAlign="center",e.textBaseline="middle",e.fillStyle="#d03944",e.font="400 20px 'Rubik Wet Paint'",e.fillText(d[t],l/2+15,0,300),e.restore()}e.setTransform(1,0,0,1,0,0);const[i,o]=[30,20];P(e,l+l-i,l-o/2,i,o)}function T(e){return 1-(1-e)*(1-e)}function w(e){const r=Math.random()*2*Math.PI+2*Math.PI*3,i=3e3;let o;function t(n){o||(o=n);const s=n-o,m=r*T(s/i);if(h(e,m),s<i)requestAnimationFrame(t);else{const p=c-1-Math.floor(m%(2*Math.PI)/a);g.innerText=`You won: ${d[p]}`}}requestAnimationFrame(t)}h(u,0);y.addEventListener("click",()=>void w(u));
